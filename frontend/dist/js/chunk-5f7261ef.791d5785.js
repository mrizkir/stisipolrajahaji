(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f7261ef"],{"7eb1":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{class:t.classBNavbar,attrs:{toggleable:"lg"}},[a("b-navbar-toggle",{attrs:{target:"nav-left"}}),a("b-collapse",{attrs:{id:"nav-left","is-nav":""}},[a("b-navbar-nav",[t._t("sidebartoggle")],2),a("b-navbar-nav",{staticClass:"ml-auto"},[t._t("sidebartoggleright"),a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("b-avatar",{attrs:{src:t.photoUser,size:"sm"}})]},proxy:!0}])},[a("b-dropdown-item",{on:{click:function(e){return e.stopPropagation(),t.logout.apply(null,arguments)}}},[t._v("Logout")])],1)],2)],1)],1)},r=[],i={name:"navbaradmin",props:{classBNavbar:{type:String,default:"main-header navbar-white"}},methods:{logout:function(){var t=this;this.$ajax.post("/auth/logout",{},{headers:{Authorization:this.$store.getters["auth/Token"]}}).then((function(){t.$store.dispatch("auth/logout"),t.$store.dispatch("uifront/reinit"),t.$store.dispatch("uiadmin/reinit"),t.$router.push("/")})).catch((function(){t.$store.dispatch("auth/logout"),t.$store.dispatch("uifront/reinit"),t.$store.dispatch("uiadmin/reinit"),t.$router.push("/")}))}},computed:{photoUser:function(){var t,e=this.$store.getters["auth/DetailUser"]("foto");return t=""==e?this.$backend.storageURL+"/storage/images/users/no_photo.png":this.$backend.storageURL+"/"+e,t}}},n=i,o=a("2877"),l=Object(o["a"])(n,s,r,!1,null,null,null);e["a"]=l.exports},"99af":function(t,e,a){"use strict";var s=a("23e7"),r=a("da84"),i=a("d039"),n=a("e8b5"),o=a("861d"),l=a("7b0b"),c=a("07fa"),u=a("8418"),d=a("65f0"),b=a("1dde"),m=a("b622"),p=a("2d00"),f=m("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",g=r.TypeError,_=p>=51||!i((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),S=b("concat"),y=function(t){if(!o(t))return!1;var e=t[f];return void 0!==e?!!e:n(t)},k=!_||!S;s({target:"Array",proto:!0,forced:k},{concat:function(t){var e,a,s,r,i,n=l(this),o=d(n,0),b=0;for(e=-1,s=arguments.length;e<s;e++)if(i=-1===e?n:arguments[e],y(i)){if(r=c(i),b+r>h)throw g(v);for(a=0;a<r;a++,b++)a in i&&u(o,b,i[a])}else{if(b>=h)throw g(v);u(o,b++,i)}return o.length=b,o}})},b592:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"main-footer"},[a("strong",[t._v("Copyright Â© 2010-2022 "),a("a",{attrs:{href:"#"}},[t._v("PortalEkampus")]),t._v(".")]),t._v(" All rights reserved. "),a("div",{staticClass:"float-right d-none d-sm-inline-block"},[a("b",[t._v("Version")]),t._v(" 2.0.0 ")])])}],i=a("2877"),n={},o=Object(i["a"])(n,s,r,!1,null,null,null);e["a"]=o.exports},b715:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{staticClass:"card-primary card-outline",attrs:{"no-body":""},scopedSlots:t._u([{key:"header",fn:function(){return[a("h3",{staticClass:"card-title"},[t._v("Data Pengguna")]),a("div",{staticClass:"card-tools"},[a("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-tool",attrs:{type:"button",title:"Keluar"},on:{click:function(e){return e.stopPropagation(),t.$router.push(t.urlfront)}}},[a("b-icon",{attrs:{icon:"x-square"}})],1)])]},proxy:!0}])},[a("b-card-body",[a("b-row",[a("b-col",{attrs:{cols:"2"}},[a("b-img-lazy",t._b({attrs:{src:t.getImageUrl(),alt:"foto pengguna"}},"b-img-lazy",t.mainProps,!1))],1),a("b-col",{attrs:{cols:"10"}},[a("b-row",[a("b-col",[a("dl",{staticClass:"row"},[a("dt",{staticClass:"col-sm-3"},[t._v("ID")]),a("dd",{staticClass:"col-sm-9"},[t._v(t._s(t.data_user.userid))])])]),a("b-col",[a("dl",{staticClass:"row"},[a("dt",{staticClass:"col-sm-4"},[t._v("Nama")]),a("dd",{staticClass:"col-sm-8"},[t._v(t._s(t.data_user.nama))])])])],1),a("b-row",[a("b-col",[a("dl",{staticClass:"row"},[a("dt",{staticClass:"col-sm-3"},[t._v("Username")]),a("dd",{staticClass:"col-sm-9"},[t._v(t._s(t.data_user.username))])])]),a("b-col",[a("dl",{staticClass:"row"},[a("dt",{staticClass:"col-sm-4"},[t._v("Email")]),a("dd",{staticClass:"col-sm-8"},[t._v(" "+t._s(t.data_user.email)+" ")])])])],1),a("b-row",[a("b-col",[a("dl",{staticClass:"row"},[a("dt",{staticClass:"col-sm-3"},[t._v("Status")]),a("dd",{staticClass:"col-sm-9"},[a("b-badge",{attrs:{variant:1==t.data_user.active?"primary":"secondary"}},[t._v(t._s(1==t.data_user.active?"aktif":"tidak aktif"))])],1)])]),a("b-col",[a("dl",{staticClass:"row"},[a("dt",{staticClass:"col-sm-4"},[t._v("Created")]),a("dd",{staticClass:"col-sm-8"},[t._v(" "+t._s(t.$date(t.data_user.date_added).format("DD.MM.YYYY HH:mm"))+" ")])])])],1)],1)],1)],1)],1)},r=[],i=(a("99af"),{name:"user-detail",props:{urlfront:{type:String,required:!0},urlbackend:{type:String,default:null},data_user:{type:Object,required:!0}},data:function(){return{mainProps:{center:!0,fluidGrow:!0,blank:!0,blankColor:"#bbb"}}},methods:{getImageUrl:function(){var t=this.data_user.detail;if("undefined"!==typeof t&&null!==t)return"".concat(this.$backend.storageURL,"/").concat(this.data_user.detail.foto)}}}),n=i,o=a("2877"),l=Object(o["a"])(n,s,r,!1,null,null,null);e["a"]=l.exports},f439:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("navbar",{scopedSlots:t._u([{key:"sidebartoggle",fn:function(){return[a("b-button",{attrs:{variant:"link"},on:{click:function(e){e.stopPropagation(),t.sidebar_visible=!t.sidebar_visible}}},[a("font-awesome-icon",{attrs:{icon:["fas","bars"]}})],1)]},proxy:!0}])}),a("b-sidebar",{attrs:{id:"left-sidebar","aria-labelledby":"sidebar-header-title",visible:t.sidebar_visible,width:"250px"},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"d-flex align-items-center flex-column"},[a("b-avatar",{staticClass:"mb-3 mt-2",attrs:{variant:"primary",text:"BV",size:"5rem"}}),a("h5",{attrs:{id:"sidebar-header-title"}},[t._v("ADMIN")]),a("div",{staticClass:"divider"})],1)]},proxy:!0},{key:"default",fn:function(){return[a("nav",[a("b-nav",{staticClass:"nav-pills nav-sidebar",attrs:{vertical:""}},[t.$store.getters["auth/can"]("SYSTEM-USERS-GROUP")?a("b-nav-item",{attrs:{to:"/sistem-pengguna"}},[a("b-icon",{attrs:{icon:"arrow-right"}}),t._v(" DASHBOARD ")],1):t._e(),a("li",{staticClass:"nav-header"},[t._v("KONFIGURASI")]),t.$store.getters["auth/can"]("SYSTEM-SETTING-PERMISSIONS_BROWSE")?a("b-nav-item",{attrs:{to:"/sistem-pengguna/permission"}},[a("b-icon",{attrs:{icon:"arrow-right"}}),t._v(" PERMISSION ")],1):t._e(),t.$store.getters["auth/can"]("SYSTEM-SETTING-ROLES_BROWSE")?a("b-nav-item",{attrs:{to:"/sistem-pengguna/roles"}},[a("b-icon",{attrs:{icon:"arrow-right"}}),t._v(" ROLE ")],1):t._e(),a("li",{staticClass:"nav-header"},[t._v("PENGGUNA")]),t.$store.getters["auth/can"]("SYSTEM-USERS-SUPERADMIN_BROWSE")?a("b-nav-item",{attrs:{to:"/sistem-pengguna/superadmin"}},[a("b-icon",{attrs:{icon:"arrow-right"}}),t._v(" SUPERADMIN ")],1):t._e(),t.$store.getters["auth/can"]("SYSTEM-USERS-AKADEMIK_BROWSE")?a("b-nav-item",{attrs:{to:"/sistem-pengguna/manajemen"}},[a("b-icon",{attrs:{icon:"arrow-right"}}),t._v(" MANAJEMEN ")],1):t._e(),t.$store.getters["auth/can"]("SYSTEM-USERS-DOSEN_BROWSE")?a("b-nav-item",{attrs:{to:"/sistem-pengguna/dosen"}},[a("b-icon",{attrs:{icon:"arrow-right"}}),t._v(" DOSEN ")],1):t._e()],1)],1)]},proxy:!0}])}),a("div",{staticClass:"content-wrapper"},[a("section",{staticClass:"content-header"},[a("b-container",{attrs:{fluid:""}},[a("b-row",{staticClass:"mb-2"},[a("b-col",{attrs:{sm:"4"}},[a("h1",[t._t("page-header")],2)]),a("b-col",{attrs:{sm:"8"}},[a("b-breadcrumb",{staticClass:"float-sm-right"},[a("b-breadcrumb-item",{attrs:{to:"/dashboard/"+t.$store.getters["auth/AccessToken"]}},[a("b-icon",{attrs:{icon:"house-fill",scale:"1.25","shift-v":"1.25","aria-hidden":"true"}}),t._v(" Home ")],1),t._t("page-breadcrumb")],2)],1)],1)],1)],1),a("section",{staticClass:"content"},[t._t("page-content")],2)]),a("footerportal"),a("div",{directives:[{name:"b-visible",rawName:"v-b-visible.once",value:t.handleVisible,expression:"handleVisible",modifiers:{once:!0}}],staticClass:"d-xs-none"})],1)},r=[],i=a("7eb1"),n=a("b592"),o={name:"PenggunaSistemLayout",data:function(){return{sidebar_visible:!0}},methods:{handleVisible:function(t){this.sidebar_visible=t}},watch:{sidebar_visible:function(t){var e=document.body;t?e.classList.remove("sidebar-collapse"):e.classList.add("sidebar-collapse")}},components:{navbar:i["a"],footerportal:n["a"]}},l=o,c=a("2877"),u=Object(c["a"])(l,s,r,!1,null,null,null);e["a"]=u.exports},f45d:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{staticClass:"card-primary card-outline",attrs:{"no-body":""},scopedSlots:t._u([{key:"header",fn:function(){return[a("h3",{staticClass:"card-title"},[t._v("Data Hak ("+t._s(t.selectedPermissions.length)+") ")]),t.$store.getters["auth/can"]("USER_STOREPERMISSIONS")?a("div",{staticClass:"card-tools"},[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"xs",variant:"outline-primary",disabled:0===t.selectedPermissions.length||t.btnLoading,title:"Simpan Permission"},on:{click:function(e){return e.stopPropagation(),t.save.apply(null,arguments)}}},[t._v(" save ")]),a("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mr-1",attrs:{size:"xs",variant:"outline-primary",disabled:0===t.selectedPermissions.length,title:"Kosongkan pilihan permission"},on:{click:t.clearSelected}},[t._v(" Kosongkan ")]),a("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"xs",variant:"outline-primary",title:"Pilih semua permission"},on:{click:t.setAllSelected}},[t._v(" Pilih Semua ")])],1):t._e()]},proxy:!0},{key:"footer",fn:function(){return[a("b-pagination",{staticClass:"pagination-sm m-0 float-right",attrs:{"aria-controls":"datatable","per-page":t.perPage,"total-rows":t.totalRows,responsive:"",pills:""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})]},proxy:!0}])},[a("b-card-body",[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"filter-input","label-cols-sm":"2","label-align-sm":"right","label-size":"sm"}},[a("b-input-group",[a("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("b-input-group-append",[a("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),a("b-card-body",{staticClass:"p-0"},[a("b-alert",{staticClass:"m-3 font-italic",attrs:{show:""}},[t._v(" Silahkan pilih permission untuk user "+t._s(t.data_user.nama)+" dengan cara mengklik baris dalam tabel di bawah ini. ")]),a("b-table",{attrs:{id:"datatable","primary-key":"id",items:t.datatable,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,"tbody-tr-class":t.tbodyRowClass,busy:t.datatableLoading,filter:t.filter,"filter-included-fields":t.filterOn,outlined:"",hover:"","show-empty":"",responsive:""},on:{"row-clicked":t.rowClicked,filtered:t.onFiltered},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),a("strong",[t._v("Loading...")])],1)]},proxy:!0},{key:"cell(selected)",fn:function(e){var s=e.item,r=e.field.key;return[t.$store.getters["auth/can"]("USER_STOREPERMISSIONS")&&null===s.selected2?a("b-form-checkbox",{attrs:{switch:""},model:{value:s[r],callback:function(e){t.$set(s,r,e)},expression:"item[key]"}}):a("span",[t._v(" N.A ")])]}},{key:"cell(aksi)",fn:function(e){var s=e.item;return[t.$store.getters["auth/can"]("USER_REVOKEPERMISSIONS")&&"true"==s.selected?a("b-button",{attrs:{id:"btDelete"+s.userid,variant:"outline-danger p-1",size:"xs",disabled:t.btnLoading},on:{click:function(e){return e.stopPropagation(),t.revokePermission(s)}}},[a("b-icon",{staticClass:"p-0 m-0",attrs:{icon:"trash"}}),t.$store.getters["auth/can"]("USER_REVOKEPERMISSIONS")&&"true"==s.selected?a("b-tooltip",{attrs:{target:"btDelete"+s.userid,variant:"danger"}},[t._v(" Hapus Permission Pengguna ")]):t._e()],1):a("span",[t._v(" N.A ")])]}}])})],1)],1)},r=[],i=a("1da1"),n=(a("96cf"),a("d3b7"),a("159b"),a("b0c0"),a("4de4"),{name:"user-permissions",props:{urlfront:{type:String,default:null},urlbackend:{type:String,default:null},user_id:{required:!0}},mounted:function(){this.initialize()},data:function(){return{datatableLoading:!1,btnLoading:!1,data_user:{},fields:[{key:"name",label:"Nama Permission",sortable:!0},{key:"guard_name",label:"Guard"},{key:"selected",label:"Pilihan",thStyle:"width: 100px"},{label:"Aksi",key:"aksi",thStyle:"width: 100px"}],totalRows:1,perPage:10,currentPage:1,sortBy:"name",sortDesc:!1,datatable:[],filter:null,filterOn:[]}},methods:{setAllSelected:function(){var t=this;this.datatable.forEach((function(e){null==e.selected2&&t.$set(e,"selected",!0)}))},clearSelected:function(){var t=this;this.selectedPermissions.forEach((function(e){null==e.selected2&&t.$delete(e,"selected")}))},tbodyRowClass:function(t){if("undefined"!==typeof t&&null!==t)return t.selected?["b-table-row-selected","table-primary","cursor-pointer"]:["cursor-pointer"]},rowClicked:function(t){"undefined"!==typeof t&&null!==t&&null==t.selected2&&(t.selected?this.$set(t,"selected",!1):this.$set(t,"selected",!0))},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},initialize:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.datatableLoading=!0,a="/system/users/"+t.user_id+"/rolepermission",e.next=4,t.$ajax.get(a,{headers:{Authorization:t.$store.getters["auth/Token"]}}).then((function(e){var a=e.data;t.data_user=a.user,t.datatable=a.permissions,t.totalRows=t.datatable.length,t.datatableLoading=!1})).catch((function(){t.datatableLoading=!1}));case 4:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.selectedPermissions.length>0)){e.next=6;break}return t.btnLoading=!0,e.next=4,t.$ajax.post("/system/users/storeuserpermissions",{userid:t.user_id,chkpermission:t.selectedPermissions},{headers:{Authorization:t.$store.getters["auth/Token"]}}).then((function(){t.btnLoading=!1,t.$router.go()})).catch((function(){t.btnLoading=!1}));case 4:e.next=7;break;case 6:t.$bvToast.toast("Simpan permission dari user "+t.data_user.nama+" gagal karena jumlah permissionnya 0",{title:"Pesan Sistem",variant:"warning",autoHideDelay:5e3,appendToast:!1});case 7:case"end":return e.stop()}}),e)})))()},revokePermission:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.btnLoading=!0,a.next=3,e.$ajax.post("/system/users/revokeuserpermissions",{user_id:e.user_id,name:t.name},{headers:{Authorization:e.$store.getters["auth/Token"]}}).then((function(){e.$router.go()})).catch((function(){e.btnLoading=!1}));case 3:case"end":return a.stop()}}),a)})))()}},computed:{selectedPermissions:function(){return this.datatable.filter((function(t){return t.selected}))}}}),o=n,l=a("2877"),c=Object(l["a"])(o,s,r,!1,null,null,null);e["a"]=c.exports}}]);